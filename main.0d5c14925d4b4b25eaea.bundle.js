(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{212:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a='# rc-upload\n---\n\nReact Upload\n\n[![NPM version][npm-image]][npm-url]\n[![build status][travis-image]][travis-url]\n[![Test coverage][coveralls-image]][coveralls-url]\n[![Dependencies][david-image]][david-url]\n[![DevDependencies][david-dev-image]][david-dev-url]\n[![npm download][download-image]][download-url]\n[![bundle size][bundlephobia-image]][bundlephobia-url]\n\n[npm-image]: https://img.shields.io/npm/v/rc-upload.svg?style=flat-square\n[npm-url]: http://npmjs.org/package/rc-upload\n[travis-image]: https://img.shields.io/travis/react-component/upload/master?style=flat-square\n[travis-url]: https://travis-ci.org/react-component/upload\n[circleci-image]: https://img.shields.io/circleci/react-component/upload/master?style=flat-square\n[circleci-url]: https://circleci.com/gh/react-component/upload\n[coveralls-image]: https://img.shields.io/coveralls/react-component/upload.svg?style=flat-square\n[coveralls-url]: https://coveralls.io/r/react-component/upload?branch=master\n[david-url]: https://david-dm.org/react-component/upload\n[david-image]: https://david-dm.org/react-component/upload/status.svg?style=flat-square\n[david-dev-url]: https://david-dm.org/react-component/upload?type=dev\n[david-dev-image]: https://david-dm.org/react-component/upload/dev-status.svg?style=flat-square\n[download-image]: https://img.shields.io/npm/dm/rc-upload.svg?style=flat-square\n[download-url]: https://npmjs.org/package/rc-upload\n[bundlephobia-url]: https://bundlephobia.com/result?p=rc-upload\n[bundlephobia-image]: https://badgen.net/bundlephobia/minzip/rc-upload\n\n## Development\n\n```\nnpm install\nnpm start\n```\n\n## Example\n\nhttp://localhost:8020/examples/\n\nonline example: http://react-component.github.io/upload/examples/simple.html\n\n\n## Feature\n\n* support IE11+, Chrome, Firefox, Safari\n\n## install\n\n[![rc-upload](https://nodei.co/npm/rc-upload.png)](https://npmjs.org/package/rc-upload)\n\n## Usage\n\n```js\nvar Upload = require(\'rc-upload\');\nvar React = require(\'react\');\nReact.render(<Upload />, container);\n```\n\n## API\n\n### props\n\n|name|type|default| description|\n|-----|---|--------|----|\n|name | string | file| file param post to server |\n|style | object | {}| root component inline style |\n|className | string | - | root component className |\n|disabled | boolean | false | whether disabled |\n|component | "div"|"span" | "span"| wrap component name |\n|action| string &#124; function(file): string &#124; Promise&lt;string&gt; | | form action url |\n|method | string | post | request method |\n|directory| boolean | false | support upload whole directory |\n|data| object/function(file) | | other data object to post or a function which returns a data object(a promise object which resolve a data object) |\n|headers| object | {} | http headers to post, available in modern browsers |\n|accept | string | | input accept attribute |\n|multiple | boolean | false | only support ie10+|\n|onStart | function| | start upload file |\n|onError| function| | error callback |\n|onSuccess | function | | success callback |\n|onProgress | function || progress callback, only for modern browsers|\n|beforeUpload| function |null| before upload check, return false or a rejected Promise will stop upload, only for modern browsers|\n|customRequest | function | null | provide an override for the default xhr behavior for additional customization|\n|withCredentials | boolean | false | ajax upload with cookie send |\n|openFileDialogOnClick | boolean | true | useful for drag only upload as it does not trigger on enter key or click event |\n|transformFile | function(file): Promise&lt;blob&gt; |  | transform file before request |\n\n#### onError arguments\n\n1. `err`: request error message\n2. `response`: request response, not support on iframeUpload\n3. `file`: upload file\n\n### onSuccess arguments\n\n1. `result`: response body\n2. `file`: upload file\n3. `xhr`: xhr header, only for modern browsers which support AJAX upload. since\n   2.4.0\n\n\n### customRequest\n\nAllows for advanced customization by overriding default behavior in AjaxUploader. Provide your own XMLHttpRequest calls to interface with custom backend processes or interact with AWS S3 service through the aws-sdk-js package.\n\ncustomRequest callback is passed an object with:\n\n* `onProgress: (event: { percent: number }): void`\n* `onError: (event: Error, body?: Object): void`\n* `onSuccess: (body: Object): void`\n* `data: Object`\n* `filename: String`\n* `file: File`\n* `withCredentials: Boolean`\n* `action: String`\n* `headers: Object`\n\n\n### methods\n\nabort(file?: File) => void: abort the uploading file\n\n## License\n\nrc-upload is released under the MIT license.\n'},347:function(module,exports){module.exports="/* eslint no-console:0 */\nimport React from 'react';\nimport Upload from '..';\n\nconst props = {\n  action: () => {\n    return new Promise(resolve => {\n      setTimeout(() => {\n        resolve('/upload.do');\n      }, 2000);\n    });\n  },\n  multiple: true,\n  onStart(file) {\n    console.log('onStart', file, file.name);\n  },\n  onSuccess(ret) {\n    console.log('onSuccess', ret);\n  },\n  onError(err) {\n    console.log('onError', err);\n  },\n};\n\nconst Test = () => {\n  return (\n    <div\n      style={{\n        margin: 100,\n      }}\n    >\n      <div>\n        <Upload {...props}>\n          <a>开始上传</a>\n        </Upload>\n      </div>\n    </div>\n  );\n};\n\nexport default Test;\n"},348:function(module,exports){module.exports="/* eslint no-console:0 */\n\nimport React from 'react';\nimport Upload from '..';\n\nconst props = {\n  action: '/upload.do',\n  multiple: true,\n  onStart(file) {\n    console.log('onStart', file, file.name);\n  },\n  onSuccess(ret) {\n    console.log('onSuccess', ret);\n  },\n  onError(err) {\n    console.log('onError', err);\n  },\n  beforeUpload(file, fileList) {\n    console.log(file, fileList);\n    return new Promise(resolve => {\n      console.log('start check');\n      setTimeout(() => {\n        console.log('check finshed');\n        resolve(file);\n      }, 3000);\n    });\n  },\n};\n\nconst Test = () => {\n  return (\n    <div\n      style={{\n        margin: 100,\n      }}\n    >\n      <div>\n        <Upload {...props}>\n          <a>开始上传</a>\n        </Upload>\n      </div>\n    </div>\n  );\n};\n\nexport default Test;\n"},349:function(module,exports){module.exports="/* eslint no-console:0 */\nimport React from 'react';\nimport axios from 'axios';\nimport Upload from '..';\n\nconst uploadProps = {\n  action: '/upload.do',\n  multiple: false,\n  data: { a: 1, b: 2 },\n  headers: {\n    Authorization: '$prefix $token',\n  },\n  onStart(file) {\n    console.log('onStart', file, file.name);\n  },\n  onSuccess(ret, file) {\n    console.log('onSuccess', ret, file.name);\n  },\n  onError(err) {\n    console.log('onError', err);\n  },\n  onProgress({ percent }, file) {\n    console.log('onProgress', `${percent}%`, file.name);\n  },\n  customRequest({\n    action,\n    data,\n    file,\n    filename,\n    headers,\n    onError,\n    onProgress,\n    onSuccess,\n    withCredentials,\n  }) {\n    // EXAMPLE: post form-data with 'axios'\n    // eslint-disable-next-line no-undef\n    const formData = new FormData();\n    if (data) {\n      Object.keys(data).forEach(key => {\n        formData.append(key, data[key]);\n      });\n    }\n    formData.append(filename, file);\n\n    axios\n      .post(action, formData, {\n        withCredentials,\n        headers,\n        onUploadProgress: ({ total, loaded }) => {\n          onProgress({ percent: Math.round((loaded / total) * 100).toFixed(2) }, file);\n        },\n      })\n      .then(({ data: response }) => {\n        onSuccess(response, file);\n      })\n      .catch(onError);\n\n    return {\n      abort() {\n        console.log('upload progress is aborted.');\n      },\n    };\n  },\n};\n\nconst Test = () => {\n  return (\n    <div\n      style={{\n        margin: 100,\n      }}\n    >\n      <div>\n        <Upload {...uploadProps}>\n          <button type=\"button\">开始上传</button>\n        </Upload>\n      </div>\n    </div>\n  );\n};\n\nexport default Test;\n"},350:function(module,exports){module.exports="/* eslint no-console:0 */\n\nimport React from 'react';\nimport Upload from '..';\n\nconst Test = () => {\n  const uploaderProps = {\n    action: '/upload.do',\n    data: { a: 1, b: 2 },\n    directory: true,\n    beforeUpload(file) {\n      console.log('beforeUpload', file.name);\n    },\n    onStart: file => {\n      console.log('onStart', file.name);\n    },\n    onSuccess(file) {\n      console.log('onSuccess', file);\n    },\n    onProgress(step, file) {\n      console.log('onProgress', Math.round(step.percent), file.name);\n    },\n    onError(err) {\n      console.log('onError', err);\n    },\n  };\n\n  return (\n    <div\n      style={{\n        margin: 100,\n      }}\n    >\n      <div>\n        <Upload {...uploaderProps}>\n          <a>开始上传</a>\n        </Upload>\n      </div>\n    </div>\n  );\n};\n\nexport default Test;\n"},351:function(module,exports){module.exports="/* eslint no-console:0 */\nimport React from 'react';\nimport Upload from '..';\n\nconst props = {\n  action: '/upload.do',\n  type: 'drag',\n  accept: '.png',\n  beforeUpload(file) {\n    console.log('beforeUpload', file.name);\n  },\n  onStart: file => {\n    console.log('onStart', file.name);\n  },\n  onSuccess(file) {\n    console.log('onSuccess', file);\n  },\n  onProgress(step, file) {\n    console.log('onProgress', Math.round(step.percent), file.name);\n  },\n  onError(err) {\n    console.log('onError', err);\n  },\n  style: { display: 'inline-block', width: 200, height: 200, background: '#eee' },\n  // openFileDialogOnClick: false\n};\n\nconst Test = () => {\n  return (\n    <div\n      style={{\n        margin: 100,\n      }}\n    >\n      <div>\n        <Upload {...props}>\n          <a>开始上传</a>\n        </Upload>\n      </div>\n    </div>\n  );\n};\n\nexport default Test;\n"},352:function(module,exports){module.exports="/* eslint no-console:0 */\n\nimport React from 'react';\nimport Upload from '..';\n\nconst style = `\n        .rc-upload-disabled {\n           opacity:0.5;\n        `;\n\nconst uploaderProps = {\n  action: '/upload.do',\n  data: { a: 1, b: 2 },\n  multiple: true,\n  beforeUpload(file) {\n    console.log('beforeUpload', file.name);\n  },\n  onStart: file => {\n    console.log('onStart', file.name);\n  },\n  onSuccess(file) {\n    console.log('onSuccess', file);\n  },\n  onProgress(step, file) {\n    console.log('onProgress', Math.round(step.percent), file.name);\n  },\n  onError(err) {\n    console.log('onError', err);\n  },\n};\n\nconst Test = () => {\n  const [destroyed, setDestroyed] = React.useState(false);\n\n  const destroy = () => {\n    setDestroyed(true);\n  };\n\n  if (destroyed) {\n    return null;\n  }\n\n  return (\n    <div style={{ margin: 100 }}>\n      <h2>固定位置</h2>\n      <style>{style}</style>\n      <div>\n        <Upload {...uploaderProps}>\n          <a>开始上传</a>\n        </Upload>\n      </div>\n      <h2>滚动</h2>\n      <div\n        style={{\n          height: 200,\n          overflow: 'auto',\n          border: '1px solid red',\n        }}\n      ></div>\n      <div\n        style={{\n          height: 500,\n        }}\n      >\n        <Upload {...uploaderProps} id=\"test\" component=\"div\" style={{ display: 'inline-block' }}>\n          <a>开始上传2</a>\n        </Upload>\n      </div>\n      <button type=\"button\" onClick={destroy}>\n        destroy\n      </button>\n    </div>\n  );\n};\n\nexport default Test;\n"},353:function(module,exports){module.exports="/* eslint no-console:0 */\nimport React from 'react';\nimport Upload from '..';\n\nconst uploadProps = {\n  action: '/upload.do',\n  multiple: false,\n  data: { a: 1, b: 2 },\n  headers: {\n    Authorization: '$prefix $token',\n  },\n  onStart(file) {\n    console.log('onStart', file, file.name);\n  },\n  onSuccess(ret, file) {\n    console.log('onSuccess', ret, file.name);\n  },\n  onError(err) {\n    console.log('onError', err);\n  },\n  onProgress({ percent }, file) {\n    console.log('onProgress', `${percent}%`, file.name);\n  },\n  transformFile(file) {\n    return new Promise(resolve => {\n      // eslint-disable-next-line no-undef\n      const reader = new FileReader();\n      reader.readAsDataURL(file);\n      reader.onload = () => {\n        const canvas = document.createElement('canvas');\n        const img = document.createElement('img');\n        img.src = reader.result;\n        img.onload = () => {\n          const ctx = canvas.getContext('2d');\n          ctx.drawImage(img, 0, 0);\n          canvas.toBlob(resolve);\n        };\n      };\n    });\n  },\n};\n\nconst Test = () => {\n  return (\n    <div\n      style={{\n        margin: 100,\n      }}\n    >\n      <div>\n        <Upload {...uploadProps}>\n          <button type=\"button\">开始上传</button>\n        </Upload>\n      </div>\n    </div>\n  );\n};\n\nexport default Test;\n"},354:function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__(73);Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _react=_interopRequireDefault(__webpack_require__(1)),_=_interopRequireDefault(__webpack_require__(74)),props={action:function action(){return new Promise((function(resolve){setTimeout((function(){resolve("/upload.do")}),2e3)}))},multiple:!0,onStart:function onStart(file){console.log("onStart",file,file.name)},onSuccess:function onSuccess(ret){console.log("onSuccess",ret)},onError:function onError(err){console.log("onError",err)}},_default=function Test(){return _react.default.createElement("div",{style:{margin:100}},_react.default.createElement("div",null,_react.default.createElement(_.default,props,_react.default.createElement("a",null,"开始上传"))))};exports.default=_default},357:function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__(73);Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _react=_interopRequireDefault(__webpack_require__(1)),_=_interopRequireDefault(__webpack_require__(74)),props={action:"/upload.do",multiple:!0,onStart:function onStart(file){console.log("onStart",file,file.name)},onSuccess:function onSuccess(ret){console.log("onSuccess",ret)},onError:function onError(err){console.log("onError",err)},beforeUpload:function beforeUpload(file,fileList){return console.log(file,fileList),new Promise((function(resolve){console.log("start check"),setTimeout((function(){console.log("check finshed"),resolve(file)}),3e3)}))}},_default=function Test(){return _react.default.createElement("div",{style:{margin:100}},_react.default.createElement("div",null,_react.default.createElement(_.default,props,_react.default.createElement("a",null,"开始上传"))))};exports.default=_default},358:function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__(73);Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _react=_interopRequireDefault(__webpack_require__(1)),_axios=_interopRequireDefault(__webpack_require__(809)),_=_interopRequireDefault(__webpack_require__(74)),uploadProps={action:"/upload.do",multiple:!1,data:{a:1,b:2},headers:{Authorization:"$prefix $token"},onStart:function onStart(file){console.log("onStart",file,file.name)},onSuccess:function onSuccess(ret,file){console.log("onSuccess",ret,file.name)},onError:function onError(err){console.log("onError",err)},onProgress:function onProgress(_ref,file){var percent=_ref.percent;console.log("onProgress","".concat(percent,"%"),file.name)},customRequest:function customRequest(_ref2){var action=_ref2.action,data=_ref2.data,file=_ref2.file,filename=_ref2.filename,headers=_ref2.headers,onError=_ref2.onError,onProgress=_ref2.onProgress,onSuccess=_ref2.onSuccess,withCredentials=_ref2.withCredentials,formData=new FormData;return data&&Object.keys(data).forEach((function(key){formData.append(key,data[key])})),formData.append(filename,file),_axios.default.post(action,formData,{withCredentials:withCredentials,headers:headers,onUploadProgress:function onUploadProgress(_ref3){var total=_ref3.total,loaded=_ref3.loaded;onProgress({percent:Math.round(loaded/total*100).toFixed(2)},file)}}).then((function(_ref4){var response=_ref4.data;onSuccess(response,file)})).catch(onError),{abort:function abort(){console.log("upload progress is aborted.")}}}},_default=function Test(){return _react.default.createElement("div",{style:{margin:100}},_react.default.createElement("div",null,_react.default.createElement(_.default,uploadProps,_react.default.createElement("button",{type:"button"},"开始上传"))))};exports.default=_default},359:function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__(73);Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _react=_interopRequireDefault(__webpack_require__(1)),_=_interopRequireDefault(__webpack_require__(74)),_default=function Test(){var uploaderProps={action:"/upload.do",data:{a:1,b:2},directory:!0,beforeUpload:function beforeUpload(file){console.log("beforeUpload",file.name)},onStart:function onStart(file){console.log("onStart",file.name)},onSuccess:function onSuccess(file){console.log("onSuccess",file)},onProgress:function onProgress(step,file){console.log("onProgress",Math.round(step.percent),file.name)},onError:function onError(err){console.log("onError",err)}};return _react.default.createElement("div",{style:{margin:100}},_react.default.createElement("div",null,_react.default.createElement(_.default,uploaderProps,_react.default.createElement("a",null,"开始上传"))))};exports.default=_default},360:function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__(73);Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _react=_interopRequireDefault(__webpack_require__(1)),_=_interopRequireDefault(__webpack_require__(74)),props={action:"/upload.do",type:"drag",accept:".png",beforeUpload:function beforeUpload(file){console.log("beforeUpload",file.name)},onStart:function onStart(file){console.log("onStart",file.name)},onSuccess:function onSuccess(file){console.log("onSuccess",file)},onProgress:function onProgress(step,file){console.log("onProgress",Math.round(step.percent),file.name)},onError:function onError(err){console.log("onError",err)},style:{display:"inline-block",width:200,height:200,background:"#eee"}},_default=function Test(){return _react.default.createElement("div",{style:{margin:100}},_react.default.createElement("div",null,_react.default.createElement(_.default,props,_react.default.createElement("a",null,"开始上传"))))};exports.default=_default},361:function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__(73);Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _extends2=_interopRequireDefault(__webpack_require__(826)),_slicedToArray2=_interopRequireDefault(__webpack_require__(827)),_react=_interopRequireDefault(__webpack_require__(1)),_=_interopRequireDefault(__webpack_require__(74)),uploaderProps={action:"/upload.do",data:{a:1,b:2},multiple:!0,beforeUpload:function beforeUpload(file){console.log("beforeUpload",file.name)},onStart:function onStart(file){console.log("onStart",file.name)},onSuccess:function onSuccess(file){console.log("onSuccess",file)},onProgress:function onProgress(step,file){console.log("onProgress",Math.round(step.percent),file.name)},onError:function onError(err){console.log("onError",err)}},_default=function Test(){var _React$useState=_react.default.useState(!1),_React$useState2=(0,_slicedToArray2.default)(_React$useState,2),destroyed=_React$useState2[0],setDestroyed=_React$useState2[1];return destroyed?null:_react.default.createElement("div",{style:{margin:100}},_react.default.createElement("h2",null,"固定位置"),_react.default.createElement("style",null,"\n        .rc-upload-disabled {\n           opacity:0.5;\n        "),_react.default.createElement("div",null,_react.default.createElement(_.default,uploaderProps,_react.default.createElement("a",null,"开始上传"))),_react.default.createElement("h2",null,"滚动"),_react.default.createElement("div",{style:{height:200,overflow:"auto",border:"1px solid red"}}),_react.default.createElement("div",{style:{height:500}},_react.default.createElement(_.default,(0,_extends2.default)({},uploaderProps,{id:"test",component:"div",style:{display:"inline-block"}}),_react.default.createElement("a",null,"开始上传2"))),_react.default.createElement("button",{type:"button",onClick:function destroy(){setDestroyed(!0)}},"destroy"))};exports.default=_default},362:function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__(73);Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _react=_interopRequireDefault(__webpack_require__(1)),_=_interopRequireDefault(__webpack_require__(74)),uploadProps={action:"/upload.do",multiple:!1,data:{a:1,b:2},headers:{Authorization:"$prefix $token"},onStart:function onStart(file){console.log("onStart",file,file.name)},onSuccess:function onSuccess(ret,file){console.log("onSuccess",ret,file.name)},onError:function onError(err){console.log("onError",err)},onProgress:function onProgress(_ref,file){var percent=_ref.percent;console.log("onProgress","".concat(percent,"%"),file.name)},transformFile:function transformFile(file){return new Promise((function(resolve){var reader=new FileReader;reader.readAsDataURL(file),reader.onload=function(){var canvas=document.createElement("canvas"),img=document.createElement("img");img.src=reader.result,img.onload=function(){canvas.getContext("2d").drawImage(img,0,0),canvas.toBlob(resolve)}}}))}},_default=function Test(){return _react.default.createElement("div",{style:{margin:100}},_react.default.createElement("div",null,_react.default.createElement(_.default,uploadProps,_react.default.createElement("button",{type:"button"},"开始上传"))))};exports.default=_default},369:function(module,exports,__webpack_require__){__webpack_require__(370),__webpack_require__(522),module.exports=__webpack_require__(523)},436:function(module,exports){},523:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var _storybook_react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(75),_storybook_addon_notes__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(342),storybook_addon_source__WEBPACK_IMPORTED_MODULE_3__=(__webpack_require__(705),__webpack_require__(343)),storybook_addon_source__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(storybook_addon_source__WEBPACK_IMPORTED_MODULE_3__);Object(_storybook_react__WEBPACK_IMPORTED_MODULE_0__.addDecorator)(_storybook_addon_notes__WEBPACK_IMPORTED_MODULE_1__.withNotes),Object(_storybook_react__WEBPACK_IMPORTED_MODULE_0__.addDecorator)(storybook_addon_source__WEBPACK_IMPORTED_MODULE_3___default.a),Object(_storybook_react__WEBPACK_IMPORTED_MODULE_0__.configure)((function loadStories(){__webpack_require__(707)}),module)}.call(this,__webpack_require__(260)(module))},707:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),react_markdown__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(344),react_markdown__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(react_markdown__WEBPACK_IMPORTED_MODULE_1__),_storybook_addon_a11y__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(345),_storybook_react__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(75),_storybook_addon_console__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(346),rc_source_loader_examples_asyncAction__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(347),rc_source_loader_examples_asyncAction__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(rc_source_loader_examples_asyncAction__WEBPACK_IMPORTED_MODULE_5__),rc_source_loader_examples_beforeUpload__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(348),rc_source_loader_examples_beforeUpload__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(rc_source_loader_examples_beforeUpload__WEBPACK_IMPORTED_MODULE_6__),rc_source_loader_examples_customRequest__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(349),rc_source_loader_examples_customRequest__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(rc_source_loader_examples_customRequest__WEBPACK_IMPORTED_MODULE_7__),rc_source_loader_examples_directoryUpload__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(350),rc_source_loader_examples_directoryUpload__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(rc_source_loader_examples_directoryUpload__WEBPACK_IMPORTED_MODULE_8__),rc_source_loader_examples_drag__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(351),rc_source_loader_examples_drag__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(rc_source_loader_examples_drag__WEBPACK_IMPORTED_MODULE_9__),rc_source_loader_examples_simple__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(352),rc_source_loader_examples_simple__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(rc_source_loader_examples_simple__WEBPACK_IMPORTED_MODULE_10__),rc_source_loader_examples_transformFile__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(353),rc_source_loader_examples_transformFile__WEBPACK_IMPORTED_MODULE_11___default=__webpack_require__.n(rc_source_loader_examples_transformFile__WEBPACK_IMPORTED_MODULE_11__),_examples_asyncAction__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(354),_examples_asyncAction__WEBPACK_IMPORTED_MODULE_12___default=__webpack_require__.n(_examples_asyncAction__WEBPACK_IMPORTED_MODULE_12__),_examples_beforeUpload__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(357),_examples_beforeUpload__WEBPACK_IMPORTED_MODULE_13___default=__webpack_require__.n(_examples_beforeUpload__WEBPACK_IMPORTED_MODULE_13__),_examples_customRequest__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(358),_examples_customRequest__WEBPACK_IMPORTED_MODULE_14___default=__webpack_require__.n(_examples_customRequest__WEBPACK_IMPORTED_MODULE_14__),_examples_directoryUpload__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(359),_examples_directoryUpload__WEBPACK_IMPORTED_MODULE_15___default=__webpack_require__.n(_examples_directoryUpload__WEBPACK_IMPORTED_MODULE_15__),_examples_drag__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(360),_examples_drag__WEBPACK_IMPORTED_MODULE_16___default=__webpack_require__.n(_examples_drag__WEBPACK_IMPORTED_MODULE_16__),_examples_simple__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(361),_examples_simple__WEBPACK_IMPORTED_MODULE_17___default=__webpack_require__.n(_examples_simple__WEBPACK_IMPORTED_MODULE_17__),_examples_transformFile__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(362),_examples_transformFile__WEBPACK_IMPORTED_MODULE_18___default=__webpack_require__.n(_examples_transformFile__WEBPACK_IMPORTED_MODULE_18__),_storybook_theming__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(363),_README_md__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(212);Object(_storybook_react__WEBPACK_IMPORTED_MODULE_3__.addParameters)({options:{theme:_storybook_theming__WEBPACK_IMPORTED_MODULE_19__.themes.light,name:"rc-upload",url:"http://github.com/react-component/upload",title:"rc-upload"}});var _ref=react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_markdown__WEBPACK_IMPORTED_MODULE_1___default.a,{escapeHtml:!1,source:_README_md__WEBPACK_IMPORTED_MODULE_20__.a}),_ref2=react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_examples_asyncAction__WEBPACK_IMPORTED_MODULE_12___default.a,null),_ref3=react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_examples_beforeUpload__WEBPACK_IMPORTED_MODULE_13___default.a,null),_ref4=react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_examples_customRequest__WEBPACK_IMPORTED_MODULE_14___default.a,null),_ref5=react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_examples_directoryUpload__WEBPACK_IMPORTED_MODULE_15___default.a,null),_ref6=react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_examples_drag__WEBPACK_IMPORTED_MODULE_16___default.a,null),_ref7=react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_examples_simple__WEBPACK_IMPORTED_MODULE_17___default.a,null),_ref8=react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_examples_transformFile__WEBPACK_IMPORTED_MODULE_18___default.a,null);Object(_storybook_react__WEBPACK_IMPORTED_MODULE_3__.storiesOf)("rc-upload",module).addDecorator(_storybook_addon_a11y__WEBPACK_IMPORTED_MODULE_2__.withA11y).addDecorator((function(storyFn,context){return Object(_storybook_addon_console__WEBPACK_IMPORTED_MODULE_4__.withConsole)()(storyFn)(context)})).add("README",(function(){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"markdown-body entry-content",style:{padding:24}},_ref)}),{source:{code:_README_md__WEBPACK_IMPORTED_MODULE_20__.a}}).add("asyncAction",(function(){return _ref2}),{source:{code:rc_source_loader_examples_asyncAction__WEBPACK_IMPORTED_MODULE_5___default.a}}).add("beforeUpload",(function(){return _ref3}),{source:{code:rc_source_loader_examples_beforeUpload__WEBPACK_IMPORTED_MODULE_6___default.a}}).add("customRequest",(function(){return _ref4}),{source:{code:rc_source_loader_examples_customRequest__WEBPACK_IMPORTED_MODULE_7___default.a}}).add("directoryUpload",(function(){return _ref5}),{source:{code:rc_source_loader_examples_directoryUpload__WEBPACK_IMPORTED_MODULE_8___default.a}}).add("drag",(function(){return _ref6}),{source:{code:rc_source_loader_examples_drag__WEBPACK_IMPORTED_MODULE_9___default.a}}).add("simple",(function(){return _ref7}),{source:{code:rc_source_loader_examples_simple__WEBPACK_IMPORTED_MODULE_10___default.a}}).add("transformFile",(function(){return _ref8}),{source:{code:rc_source_loader_examples_transformFile__WEBPACK_IMPORTED_MODULE_11___default.a}})}.call(this,__webpack_require__(260)(module))},74:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__(15);var classCallCheck=__webpack_require__(140),createClass=__webpack_require__(141),inherits=__webpack_require__(142),createSuper=__webpack_require__(148),_react_16_13_1_react=__webpack_require__(1),_react_16_13_1_react_default=__webpack_require__.n(_react_16_13_1_react),defineProperty=(__webpack_require__(124),__webpack_require__(19),__webpack_require__(20),__webpack_require__(83),__webpack_require__(68),__webpack_require__(36),__webpack_require__(62),__webpack_require__(25),__webpack_require__(14),__webpack_require__(85),__webpack_require__(44),__webpack_require__(26),__webpack_require__(21),__webpack_require__(27),__webpack_require__(200),__webpack_require__(149)),objectWithoutProperties=__webpack_require__(368),slicedToArray=__webpack_require__(367),_classnames_2_2_6_classnames=__webpack_require__(355),_classnames_2_2_6_classnames_default=__webpack_require__.n(_classnames_2_2_6_classnames),pickAttrs=__webpack_require__(356);__webpack_require__(16),__webpack_require__(35);function getBody(xhr){var text=xhr.responseText||xhr.response;if(!text)return text;try{return JSON.parse(text)}catch(e){return text}}function upload(option){var xhr=new XMLHttpRequest;option.onProgress&&xhr.upload&&(xhr.upload.onprogress=function(e){0<e.total&&(e.percent=e.loaded/e.total*100),option.onProgress(e)});var formData=new FormData;option.data&&Object.keys(option.data).forEach((function(key){var value=option.data[key];Array.isArray(value)?value.forEach((function(item){formData.append("".concat(key,"[]"),item)})):formData.append(key,option.data[key])})),option.file instanceof Blob?formData.append(option.filename,option.file,option.file.name):formData.append(option.filename,option.file),xhr.onerror=function(e){option.onError(e)},xhr.onload=function(){return 200>xhr.status||300<=xhr.status?option.onError(function getError(option,xhr){var msg="cannot ".concat(option.method," ").concat(option.action," ").concat(xhr.status,"'"),err=new Error(msg);return err.status=xhr.status,err.method=option.method,err.url=option.action,err}(option,xhr),getBody(xhr)):option.onSuccess(getBody(xhr),xhr)},xhr.open(option.method,option.action,!0),option.withCredentials&&"withCredentials"in xhr&&(xhr.withCredentials=!0);var headers=option.headers||{};return null!==headers["X-Requested-With"]&&xhr.setRequestHeader("X-Requested-With","XMLHttpRequest"),Object.keys(headers).forEach((function(h){null!==headers[h]&&xhr.setRequestHeader(h,headers[h])})),xhr.send(formData),{abort:function(){xhr.abort()}}}var now=+new Date,index=0;function uid_uid(){return"rc-upload-".concat(now,"-").concat(++index)}__webpack_require__(106),__webpack_require__(267),__webpack_require__(51),__webpack_require__(199),__webpack_require__(806),__webpack_require__(807);var attr_accept=function(file,acceptedFiles){if(file&&acceptedFiles){var acceptedFilesArray=Array.isArray(acceptedFiles)?acceptedFiles:acceptedFiles.split(","),fileName=file.name||"",mimeType=file.type||"",baseMimeType=mimeType.replace(/\/.*$/,"");return acceptedFilesArray.some((function(type){var validType=type.trim();return"."===validType.charAt(0)?function endsWith(str,suffix){return-1!==str.indexOf(suffix,str.length-suffix.length)}(fileName.toLowerCase(),validType.toLowerCase()):/\/\*$/.test(validType)?baseMimeType===validType.replace(/\/.*$/,""):mimeType===validType}))}return!0};__webpack_require__(105);var es_traverseFileTree=function(files,callback,isAccepted){var _traverseFileTree=function _traverseFileTree(item,path){item.path=path||"",item.isFile?item.file((function(file){isAccepted(file)&&(item.fullPath&&!file.webkitRelativePath&&(Object.defineProperties(file,{webkitRelativePath:{writable:!0}}),file.webkitRelativePath=item.fullPath.replace(/^\//,""),Object.defineProperties(file,{webkitRelativePath:{writable:!1}})),callback([file]))})):item.isDirectory&&function loopFiles(item,callback){var dirReader=item.createReader(),fileList=[];!function sequence(){dirReader.readEntries((function(entries){var entryList=Array.prototype.slice.apply(entries);fileList=fileList.concat(entryList),!entryList.length?callback(fileList):sequence()}))}()}(item,(function(entries){entries.forEach((function(entryItem){_traverseFileTree(entryItem,"".concat(path).concat(item.name,"/"))}))}))};files.forEach((function(file){_traverseFileTree(file.webkitGetAsEntry())}))},es_AjaxUploader=function(_Component){Object(inherits.a)(AjaxUploader,_Component);var _super=Object(createSuper.a)(AjaxUploader);function AjaxUploader(){var _this;return Object(classCallCheck.a)(this,AjaxUploader),(_this=_super.apply(this,arguments)).state={uid:uid_uid()},_this.reqs={},_this.onChange=function(e){var files=e.target.files;_this.uploadFiles(files),_this.reset()},_this.onClick=function(e){var el=_this.fileInput;if(el){var _this$props=_this.props,children=_this$props.children,onClick=_this$props.onClick;if(children&&"button"===children.type){var parent=el.parentNode;parent.focus(),parent.querySelector("button").blur()}el.click(),onClick&&onClick(e)}},_this.onKeyDown=function(e){"Enter"===e.key&&_this.onClick(e)},_this.onFileDrop=function(e){var multiple=_this.props.multiple;if(e.preventDefault(),"dragover"!==e.type)if(_this.props.directory)es_traverseFileTree(Array.prototype.slice.call(e.dataTransfer.items),_this.uploadFiles,(function(_file){return attr_accept(_file,_this.props.accept)}));else{var files=Array.prototype.slice.call(e.dataTransfer.files).filter((function(file){return attr_accept(file,_this.props.accept)}));!1===multiple&&(files=files.slice(0,1)),_this.uploadFiles(files)}},_this.uploadFiles=function(files){var postFiles=Array.prototype.slice.call(files);postFiles.map((function(file){return file.uid=uid_uid(),file})).forEach((function(file){_this.upload(file,postFiles)}))},_this.saveFileInput=function(node){_this.fileInput=node},_this}return Object(createClass.a)(AjaxUploader,[{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,this.abort()}},{key:"upload",value:function(file,fileList){var _this2=this,props=this.props;if(!props.beforeUpload)return setTimeout((function(){return _this2.post(file)}),0);var before=props.beforeUpload(file,fileList);before&&"boolean"!=typeof before&&before.then?before.then((function(processedFile){var processedFileType=Object.prototype.toString.call(processedFile);return"[object File]"===processedFileType||"[object Blob]"===processedFileType?_this2.post(processedFile):_this2.post(file)})).catch((function(e){console.log(e)})):!1!==before&&setTimeout((function(){return _this2.post(file)}),0)}},{key:"post",value:function(file){var _this3=this;if(this._isMounted){var props=this.props,onStart=props.onStart,onProgress=props.onProgress,_props$transformFile=props.transformFile,transformFile=void 0===_props$transformFile?function(originFile){return originFile}:_props$transformFile;new Promise((function(resolve){var action=props.action;return"function"==typeof action&&(action=action(file)),resolve(action)})).then((function(action){var uid=file.uid,request=props.customRequest||upload;Promise.resolve(transformFile(file)).then((function(transformedFile){var data=props.data;return"function"==typeof data&&(data=data(transformedFile)),Promise.all([transformedFile,data])})).catch((function(e){console.error(e)})).then((function(_ref){var _ref2=Object(slicedToArray.a)(_ref,2),transformedFile=_ref2[0],data=_ref2[1],requestOption={action:action,filename:props.name,data:data,file:transformedFile,headers:props.headers,withCredentials:props.withCredentials,method:props.method||"post",onProgress:onProgress?function(e){onProgress(e,file)}:null,onSuccess:function(ret,xhr){delete _this3.reqs[uid],props.onSuccess(ret,file,xhr)},onError:function(err,ret){delete _this3.reqs[uid],props.onError(err,ret,file)}};onStart(file),_this3.reqs[uid]=request(requestOption)}))}))}}},{key:"reset",value:function(){this.setState({uid:uid_uid()})}},{key:"abort",value:function(file){var reqs=this.reqs;if(file){var uid=file.uid?file.uid:file;reqs[uid]&&reqs[uid].abort&&reqs[uid].abort(),delete reqs[uid]}else Object.keys(reqs).forEach((function(uid){reqs[uid]&&reqs[uid].abort&&reqs[uid].abort(),delete reqs[uid]}))}},{key:"render",value:function(){var _classNames,_this$props2=this.props,Tag=_this$props2.component,prefixCls=_this$props2.prefixCls,className=_this$props2.className,disabled=_this$props2.disabled,id=_this$props2.id,style=_this$props2.style,multiple=_this$props2.multiple,accept=_this$props2.accept,children=_this$props2.children,directory=_this$props2.directory,openFileDialogOnClick=_this$props2.openFileDialogOnClick,onMouseEnter=_this$props2.onMouseEnter,onMouseLeave=_this$props2.onMouseLeave,otherProps=Object(objectWithoutProperties.a)(_this$props2,["component","prefixCls","className","disabled","id","style","multiple","accept","children","directory","openFileDialogOnClick","onMouseEnter","onMouseLeave"]),cls=_classnames_2_2_6_classnames_default()((_classNames={},Object(defineProperty.a)(_classNames,prefixCls,!0),Object(defineProperty.a)(_classNames,"".concat(prefixCls,"-disabled"),disabled),Object(defineProperty.a)(_classNames,className,className),_classNames)),dirProps=directory?{directory:"directory",webkitdirectory:"webkitdirectory"}:{},events=disabled?{}:{onClick:openFileDialogOnClick?this.onClick:function(){},onKeyDown:openFileDialogOnClick?this.onKeyDown:function(){},onMouseEnter:onMouseEnter,onMouseLeave:onMouseLeave,onDrop:this.onFileDrop,onDragOver:this.onFileDrop,tabIndex:"0"};return _react_16_13_1_react_default.a.createElement(Tag,Object.assign({},events,{className:cls,role:"button",style:style}),_react_16_13_1_react_default.a.createElement("input",Object.assign({},Object(pickAttrs.a)(otherProps,{aria:!0,data:!0}),{id:id,type:"file",ref:this.saveFileInput,onClick:function(e){return e.stopPropagation()},key:this.state.uid,style:{display:"none"},accept:accept},dirProps,{multiple:multiple,onChange:this.onChange})),children)}}]),AjaxUploader}(_react_16_13_1_react.Component);function empty(){}var Upload_Upload=function(_Component){Object(inherits.a)(Upload,_Component);var _super=Object(createSuper.a)(Upload);function Upload(){var _this;return Object(classCallCheck.a)(this,Upload),(_this=_super.apply(this,arguments)).saveUploader=function(node){_this.uploader=node},_this}return Object(createClass.a)(Upload,[{key:"abort",value:function(file){this.uploader.abort(file)}},{key:"render",value:function(){return _react_16_13_1_react_default.a.createElement(es_AjaxUploader,Object.assign({},this.props,{ref:this.saveUploader}))}}]),Upload}(_react_16_13_1_react.Component);Upload_Upload.defaultProps={component:"span",prefixCls:"rc-upload",data:{},headers:{},name:"file",multipart:!1,onStart:empty,onError:empty,onSuccess:empty,multiple:!1,beforeUpload:null,customRequest:null,withCredentials:!1,openFileDialogOnClick:!0};var es_Upload=Upload_Upload;__webpack_exports__.default=es_Upload}},[[369,1,2]]]);
//# sourceMappingURL=main.0d5c14925d4b4b25eaea.bundle.js.map